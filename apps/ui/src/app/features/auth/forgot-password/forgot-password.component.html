<div class="forgot-password-container">
  <nz-card class="forgot-password-card" [nzBordered]="true">
    <!-- Success State -->
    <div *ngIf="emailSent" class="success-state">
      <nz-result
        nzStatus="success"
        nzTitle="Email Sent!"
        [nzSubTitle]="'We have sent password reset instructions to ' + submittedEmail"
      >
        <div nz-result-extra>
          <button nz-button nzType="primary" (click)="backToLogin()">
            <span nz-icon nzType="arrow-left"></span>
            Back to Login
          </button>
          <button nz-button (click)="resendEmail()">
            Resend Email
          </button>
        </div>
      </nz-result>
      <div class="email-note">
        <span nz-icon nzType="info-circle" nzTheme="outline"></span>
        <p>
          If you don't see the email, please check your spam folder.
          The reset link will expire in 1 hour.
        </p>
      </div>
    </div>

    <!-- Form State -->
    <div *ngIf="!emailSent">
      <div class="forgot-password-header">
        <span nz-icon nzType="lock" nzTheme="outline" class="lock-icon"></span>
        <h1>Forgot Password?</h1>
        <p>No worries, we'll send you reset instructions.</p>
      </div>

      <form nz-form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
        <!-- Email Field -->
        <nz-form-item>
          <nz-form-label [nzRequired]="true">Email Address</nz-form-label>
          <nz-form-control nzErrorTip="Please enter a valid email address">
            <nz-input-group nzPrefixIcon="mail">
              <input
                type="email"
                nz-input
                formControlName="email"
                placeholder="Enter your email"
                autocomplete="email"
              />
            </nz-input-group>
          </nz-form-control>
        </nz-form-item>

        <!-- Submit Button -->
        <nz-form-item>
          <nz-form-control>
            <button
              nz-button
              nzType="primary"
              nzBlock
              [nzLoading]="isLoading"
              [disabled]="!forgotPasswordForm.valid"
              type="submit"
            >
              Reset Password
            </button>
          </nz-form-control>
        </nz-form-item>

        <!-- Back to Login Link -->
        <div class="back-to-login">
          <a routerLink="/auth/login">
            <span nz-icon nzType="arrow-left"></span>
            Back to login
          </a>
        </div>
      </form>
    </div>
  </nz-card>
</div>

